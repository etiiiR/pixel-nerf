Bootstrap: docker
From: nvidia/cuda:11.8.0-cudnn8-runtime-ubuntu20.04

%post
    apt-get update && apt-get install -y python3-pip git
    pip3 install --upgrade pip
    pip3 install torch torchvision
    pip3 install -r /opt/pixel-nerf/requirements.txt

%files
    . /opt/pixel-nerf

%environment
    export PYTHONUNBUFFERED=1
    export PYTHONPATH=/opt/pixel-nerf:$PYTHONPATH

%runscript
    exec python3 /opt/pixel-nerf/run.py "$@"
